/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package game;

import java.awt.Color;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.JMenuItem;
import javax.swing.JPanel;
import javax.swing.JPopupMenu;
import javax.swing.SwingUtilities;

/**
 *
 * @author tom
 */
public class Day1_Form extends javax.swing.JFrame {

    Day1 d1;

    //TODO spostare in DAY1
    ActionHandler1 actHandler = new ActionHandler1(this);

    /**
     * Creates new form Day1_Form
     */
    public JPanel bgPanel[] = new JPanel[20];
    public JLabel bgLabel[] = new JLabel[20];

    public Day1_Form() {
        initComponents();
        text_box.setVisible(false);
        testo_box.setVisible(false);

        jScrollPane1.getViewport().setOpaque(false);
        jScrollPane1.setViewportBorder(null);
        testo_box.setBackground(new Color(0, 0, 0, 0));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        background1 = new javax.swing.JPanel();
        jTextField1 = new javax.swing.JTextField();
        jTextField2 = new javax.swing.JTextField();
        jTextField3 = new javax.swing.JTextField();
        continua1 = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        testo_box = new javax.swing.JTextArea();
        text_box = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(1920, 1080));
        setPreferredSize(new java.awt.Dimension(1920, 1080));

        background1.setBackground(new java.awt.Color(0, 0, 0));
        background1.setForeground(new java.awt.Color(255, 255, 255));
        background1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jTextField1.setEditable(false);
        jTextField1.setBackground(new java.awt.Color(0, 0, 0));
        jTextField1.setFont(new java.awt.Font("Californian FB", 1, 36)); // NOI18N
        jTextField1.setForeground(new java.awt.Color(255, 255, 255));
        jTextField1.setText("Dimora della famiglia Bantry");
        jTextField1.setBorder(null);
        background1.add(jTextField1, new org.netbeans.lib.awtextra.AbsoluteConstraints(730, 440, -1, -1));

        jTextField2.setEditable(false);
        jTextField2.setBackground(new java.awt.Color(0, 0, 0));
        jTextField2.setFont(new java.awt.Font("Californian FB", 3, 48)); // NOI18N
        jTextField2.setForeground(new java.awt.Color(255, 255, 255));
        jTextField2.setText("St. Mary Mead,   10 Ottobre 1982");
        jTextField2.setBorder(null);
        background1.add(jTextField2, new org.netbeans.lib.awtextra.AbsoluteConstraints(610, 200, 677, -1));

        jTextField3.setEditable(false);
        jTextField3.setBackground(new java.awt.Color(0, 0, 0));
        jTextField3.setFont(new java.awt.Font("Californian FB", 1, 48)); // NOI18N
        jTextField3.setForeground(new java.awt.Color(255, 255, 255));
        jTextField3.setText("Gossington Hall");
        jTextField3.setBorder(null);
        background1.add(jTextField3, new org.netbeans.lib.awtextra.AbsoluteConstraints(780, 360, 329, -1));

        continua1.setBackground(new java.awt.Color(0, 0, 0));
        continua1.setFont(new java.awt.Font("Segoe UI", 2, 14)); // NOI18N
        continua1.setForeground(new java.awt.Color(255, 255, 255));
        continua1.setText("Continua");
        continua1.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED, java.awt.Color.white, java.awt.Color.white, java.awt.Color.white, java.awt.Color.white));
        continua1.setContentAreaFilled(false);
        continua1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                continua1ActionPerformed(evt);
            }
        });
        background1.add(continua1, new org.netbeans.lib.awtextra.AbsoluteConstraints(910, 600, -1, -1));

        jScrollPane1.setBorder(null);
        jScrollPane1.setForeground(new java.awt.Color(255, 255, 255));
        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane1.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);
        jScrollPane1.setOpaque(false);

        testo_box.setEditable(false);
        testo_box.setColumns(20);
        testo_box.setFont(new java.awt.Font("Courier New", 0, 24)); // NOI18N
        testo_box.setForeground(new java.awt.Color(255, 255, 255));
        testo_box.setLineWrap(true);
        testo_box.setRows(5);
        testo_box.setWrapStyleWord(true);
        testo_box.setBorder(null);
        testo_box.setOpaque(false);
        jScrollPane1.setViewportView(testo_box);

        background1.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(420, 710, 1120, 220));

        text_box.setIcon(new javax.swing.ImageIcon(getClass().getResource("/text_box.png"))); // NOI18N
        background1.add(text_box, new org.netbeans.lib.awtextra.AbsoluteConstraints(330, 660, -1, -1));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(background1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(background1, javax.swing.GroupLayout.PREFERRED_SIZE, 1080, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void continua1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_continua1ActionPerformed
        generateScenes();
        background1.setVisible(false);
        bgPanel[1].setVisible(true);
    }//GEN-LAST:event_continua1ActionPerformed

    //TODO SPOSTARE IN DAY 1
    public void goToScene1() {
        bgPanel[2].setVisible(false);
        bgPanel[1].setVisible(true);
    }

    public void goToScene2() {
        bgPanel[1].setVisible(false);
        bgPanel[2].setVisible(true);
    }

    public void goToScene2From1Floor() {
        bgPanel[4].setVisible(false);
        bgPanel[2].setVisible(true);
    }

    public void goToScene2FromLRoom() {
        bgPanel[3].setVisible(false);
        bgPanel[2].setVisible(true);
    }

    public void goToScene3() {
        bgPanel[2].setVisible(false);
        bgPanel[3].setVisible(true);
    }

    public void goToScene4() {
        bgPanel[2].setVisible(false);
        bgPanel[4].setVisible(true);
    }

    public void goToScene4FromScene5() {
        bgPanel[5].setVisible(false);
        bgPanel[4].setVisible(true);
    }

    public void goToScene5() {
        bgPanel[4].setVisible(false);
        bgPanel[5].setVisible(true);
    }

    public void goToScene6() {
        bgPanel[4].setVisible(false);
        bgPanel[6].setVisible(true);
    }

    public void goToScene6FromScene4() {
        bgPanel[6].setVisible(false);
        bgPanel[4].setVisible(true);
    }

    public void createScene(int bgNum, int x, int y, String bgFileName) {

        //panel
        bgPanel[bgNum] = new JPanel();
        bgPanel[bgNum].setBounds(0, 0, 1920, 1080);
        bgPanel[bgNum].setBackground(Color.black);
        bgPanel[bgNum].setLayout(null);
        bgPanel[bgNum].setVisible(false);

        //sfondo
        bgLabel[bgNum] = new JLabel();
        bgLabel[bgNum].setBounds(x, y, 1920, 1080);
        ImageIcon bgIcon = new ImageIcon(getClass().getResource(bgFileName));
        bgLabel[bgNum].setIcon(bgIcon);

        testo_box.setBounds(410, 700, 1050, 250);
        testo_box.setFont(new java.awt.Font("Courier New", 0, 30));

        //backpack - inventory
        JButton backpack = new JButton();
        backpack.setBounds(1700, 10, 200, 200);
        backpack.setContentAreaFilled(false);
        ImageIcon arrowIcon = new ImageIcon(getClass().getResource("/backpack_inventory.png"));
        backpack.setBackground(null);
        backpack.setFocusPainted(false);
        backpack.setIcon(arrowIcon);
        backpack.addActionListener(actHandler);
        backpack.setActionCommand("apri inventario");
        backpack.setBorderPainted(false);
        bgPanel[bgNum].add(backpack);

        bgPanel[bgNum].add(testo_box);
        bgPanel[bgNum].add(text_box);

        this.add(bgPanel[bgNum]);
    }

    public void createArrowButton(int bgNum, int x, int y, String arrowFileName, String command) {

        ImageIcon arrowIcon = new ImageIcon(getClass().getResource(arrowFileName));

        JButton arrowButton = new JButton();
        arrowButton.setBounds(x, y, 150, 150);
        arrowButton.setBackground(null);
        arrowButton.setContentAreaFilled(false);
        arrowButton.setFocusPainted(false);
        arrowButton.setIcon(arrowIcon);
        arrowButton.addActionListener(actHandler);
        arrowButton.setActionCommand(command);
        arrowButton.setBorderPainted(false);

        bgPanel[bgNum].add(arrowButton);
    }

    public void createObject(int bgNum, int objx, int objy, int objWidth, int objHeight, String objFileName,
            String choice1Name, String choice2Name, String choice3Name, String choice1Command, String Choice2Command, String Choice3Command) {

        // CREATE POP MENU
        JPopupMenu popMenu = new JPopupMenu();
        // CREATE POP MENU ITEMS
        JMenuItem menuItem[] = new JMenuItem[4]; // Use [1],[2],[3]
        menuItem[1] = new JMenuItem(choice1Name);
        menuItem[1].addActionListener(actHandler);
        menuItem[1].setActionCommand(choice1Command);
        popMenu.add(menuItem[1]);

        menuItem[2] = new JMenuItem(choice2Name);
        menuItem[2].addActionListener(actHandler);
        menuItem[2].setActionCommand(Choice2Command);
        popMenu.add(menuItem[2]);

        menuItem[3] = new JMenuItem(choice3Name);
        menuItem[3].addActionListener(actHandler);
        menuItem[3].setActionCommand(Choice3Command);
        popMenu.add(menuItem[3]);

        // CREATE OBJECTS
        JLabel objectLabel = new JLabel();
        objectLabel.setBounds(objx, objy, objWidth, objHeight);
        objectLabel.setOpaque(true);
        objectLabel.setBackground(Color.blue);

        ImageIcon objectIcon = new ImageIcon(getClass().getClassLoader().getResource(objFileName));
        objectLabel.setIcon(objectIcon);

        objectLabel.addMouseListener(new MouseListener() {

            @Override
            public void mouseClicked(MouseEvent e) {
            }

            @Override
            public void mousePressed(MouseEvent e) {

                if (SwingUtilities.isRightMouseButton(e)) {
                    popMenu.show(objectLabel, e.getX(), e.getY());
                }

            }

            public void mouseReleased(MouseEvent e) {
            }

            public void mouseEntered(MouseEvent e) {
            }

            public void mouseExited(MouseEvent e) {
            }

        });

        bgPanel[bgNum].add(objectLabel);

    }

    public void generateScenes() {

        //SCENA 1 -> DINING ROOM
        createScene(1, 0, 0, "/diningroommod.png");
        createArrowButton(1, 1750, 500, "/right_arrow.png", "goToCorridorFromDRoom");
        bgPanel[1].add(bgLabel[1]);

        //SCENA 2 -> CORRIDOIO PIANO TERRA
        createScene(2, 352, 0, "/corridoio1.png");
        createObject(2, 620, 300, 150, 650, "", "Entra", "Osserva", "", "WestRoomCorridor1", "ObserveDiningRoom", "");
        createObject(2, 1215, 300, 150, 650, "", "Entra", "Osserva", "", "EastRoomCorridor1", "ObserveLivingRoom", "");
        createObject(2, 850, 350, 300, 500, "", "Sali al piano superiore", "", "", "StaircaseUP1", "", "");
        bgPanel[2].add(bgLabel[2]);

        //SCENA 3 -> LIVING ROOM 
        createScene(3, 0, 0, "");
        createArrowButton(3, 150, 500, "/left_arrow.png", "goToCorridorFromLRoom");
        bgPanel[3].add(bgLabel[3]);

        //SCENA 4 -> CORRIDOIO PRIMO PIANO
        createScene(4, 352, 0, "/corridoio2.png");
        createArrowButton(4, 850, 850, "/down_arrow.png", "StaircaseDown1");
        createObject(4, 550, 300, 150, 650, "", "Entra", "Osserva", "", "WestRoomCorridor2", "ObserveLibrary", "");
        createObject(4, 1120, 300, 150, 650, "", "Entra", "Osserva", "", "EastRoomCorridor2", "ObserveStudy", "");
        bgPanel[4].add(bgLabel[4]);

        //SCENA 5 -> STUDIO
        createScene(5, 0, 0, "/studio.png");
        createArrowButton(5, 1750, 500, "/right_arrow.png", "goToCorridorFromStudy");
        bgPanel[5].add(bgLabel[5]);

        //SCENA 6 -> BIBLIOTECA
        createScene(6, 70, 0, "/Library.png");
        createArrowButton(6, 10, 500, "/left_arrow.png", "goToCorridorFromLibrary");
        bgPanel[6].add(bgLabel[6]);

    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Day1_Form.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Day1_Form.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Day1_Form.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Day1_Form.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                new Day1_Form().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel background1;
    private javax.swing.JButton continua1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextArea testo_box;
    private javax.swing.JLabel text_box;
    // End of variables declaration//GEN-END:variables

}
